---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 07-algebra.md in _episodes_rmd/
title: "Løsning af ligningssystemer"
teaching: 0
exercises: 0
questions:
  - "Key question (FIXME)"
objectives:
  - "First learning objective. (FIXME)"
keypoints:
  - "First key point. Brief Answer to questions. (FIXME)"
---


```
## Loading required package: usethis
```

```
## Using github PAT from envvar GITHUB_PAT
```

```
## Downloading GitHub repo dirkschumacher/ompr.highs@HEAD
```

```
## Skipping 1 packages not available: highs
```

```
## * checking for file ‘/tmp/RtmpEdyLTS/remotes29287b172c25/dirkschumacher-ompr.highs-14bc8f0/DESCRIPTION’ ... OK
## * preparing ‘ompr.highs’:
## * checking DESCRIPTION meta-information ... OK
## * checking for LF line-endings in source and make files and shell scripts
## * checking for empty or unneeded directories
## * building ‘ompr.highs_0.0.1.9000.tar.gz’
```

```
## Installing package into '/home/runner/work/_temp/Library'
## (as 'lib' is unspecified)
```

```
## Warning in i.p(...): installation of package '/tmp/RtmpEdyLTS/file29287e395a33/
## ompr.highs_0.0.1.9000.tar.gz' had non-zero exit status
```

```
## Installing package into '/home/runner/work/_temp/Library'
## (as 'lib' is unspecified)
```

```
## Warning: package 'highs' is not available for this version of R
## 
## A version of this package for your version of R might be available elsewhere,
## see the ideas at
## https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages
```

```
## Installing package into '/home/runner/work/_temp/Library'
## (as 'lib' is unspecified)
```

Hvordan løser vi algebraiske ligningssystemer?

Uden at skrive noget selv der optimerer.

Et eksempel:

Minimer $x_0 + x_1 + 3$

givet at:

$x_1 \leq 7$

$5 \leq x_0 + 2x_1 \leq 15$

$6 \leq 3x_0 + 2x_1$

$0 \leq x_0 \leq 4$

$1 \leq x_1$

Det er der en pakke der kan. 





```r
library(highs)
```

```
## Error in library(highs): there is no package called 'highs'
```

```r
library(ompr)
library(ompr.highs)
```

```
## Error in library(ompr.highs): there is no package called 'ompr.highs'
```

```r
library(dplyr)
```

```
## 
## Attaching package: 'dplyr'
```

```
## The following objects are masked from 'package:stats':
## 
##     filter, lag
```

```
## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union
```

Bemærk at ompr.highs skal installeres fra github:
devtools::install_github("dirkschumacher/ompr.highs")

Så bygger vi modellen. Først initialiserer vi modellen:

```r
model <- MIPModel()
```

Så tilføjer vi variable:

```r
model <- model %>% 
      add_variable(x0, lb = 0, ub = 4, type = "continuous") %>%
      add_variable(x1, lb = 1, type = "continuous")
```

$x_0$ har lower bound (lb) lig 0, og upper bound (ub) lig 4. Og det er en 
kontinuer variabel.

$x_1$ har lower bound 1, og er kontinuer.

så tilføjer vi de øvrige begrænsninger:



```r
model <- model %>% 
      add_constraint(x1 <= 7) %>%
      add_constraint(x0 + 2*x1 <= 15) %>%
      add_constraint(x0 + 2*x1 >= 5) %>%
      add_constraint(3*x0 + 2*x1 >= 6)
```

Og endelig angiver vi hvad målet er. $x_0 + x_3 + 3$ skal minimeres:

```r
model <- model %>% 
  set_objective(x0+x1+3, sense = "min") 
```

Så er vi klar til at løse modellen:
  

```r
# solve model
solution <- model %>% 
  solve_model(highs_optimizer())
```

```
## Error in highs_optimizer(): could not find function "highs_optimizer"
```

Og når den er færdig, kan vi kigge på resultatet.

Vi fandt en optimal løsning:

```r
solution$status
```

```
## Error in eval(expr, envir, enclos): object 'solution' not found
```

Værdien, minimum af vores mål, er:

```r
solution$objective_value
```

```
## Error in eval(expr, envir, enclos): object 'solution' not found
```

Og selve løsningen er givet ved:

```r
solution$solution
```

```
## Error in eval(expr, envir, enclos): object 'solution' not found
```

{% include links.md %}
