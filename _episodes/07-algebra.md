---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 07-algebra.md in _episodes_rmd/
title: "Solving equations"
teaching: 0
exercises: 0
questions:
  - "Key question (FIXME)"
objectives:
  - "First learning objective. (FIXME)"
keypoints:
  - "First key point. Brief Answer to questions. (FIXME)"
---







~~~
Loading required package: usethis
~~~
{: .output}



~~~
Using github PAT from envvar GITHUB_PAT
~~~
{: .output}



~~~
Downloading GitHub repo dirkschumacher/ompr.highs@HEAD
~~~
{: .output}



~~~

── R CMD build ─────────────────────────────────────────────────────────────────
* checking for file ‘/tmp/RtmpdYLdLT/remotes44d92a8a91c3/dirkschumacher-ompr.highs-14bc8f0/DESCRIPTION’ ... OK
* preparing ‘ompr.highs’:
* checking DESCRIPTION meta-information ... OK
* checking for LF line-endings in source and make files and shell scripts
* checking for empty or unneeded directories
* building ‘ompr.highs_0.0.1.9000.tar.gz’
~~~
{: .output}



~~~
Installing package into '/home/runner/work/_temp/Library'
(as 'lib' is unspecified)
~~~
{: .output}



~~~
Installing package into '/home/runner/work/_temp/Library'
(as 'lib' is unspecified)
Installing package into '/home/runner/work/_temp/Library'
(as 'lib' is unspecified)
~~~
{: .output}



~~~
also installing the dependencies 'registry', 'ROI', 'slam'
~~~
{: .output}

Hvordan løser vi algebraiske ligningssystemer?

Uden at skrive noget selv der optimerer.

Et eksempel:

Minimer $x_0 + x_1 + 3$

givet at:

$x_1 \leq 7$

$5 \leq x_0 + 2x_1 \leq 15$

$6 \leq 3x_0 + 2x_1$

$0 \leq x_0 \leq 4$

$1 \leq x_1$

Det er der en pakke der kan. 





~~~
library(highs)
library(ompr)
library(ompr.highs)
library(dplyr)
~~~
{: .language-r}



~~~

Attaching package: 'dplyr'
~~~
{: .output}



~~~
The following objects are masked from 'package:stats':

    filter, lag
~~~
{: .output}



~~~
The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union
~~~
{: .output}

Bemærk at ompr.highs skal installeres fra github:


~~~
devtools::install_github("dirkschumacher/ompr.highs")
~~~
{: .language-r}



Så bygger vi modellen. Først initialiserer vi modellen:

~~~
model <- MIPModel()
~~~
{: .language-r}

Så tilføjer vi variable:

~~~
model <- model %>% 
      add_variable(x0, lb = 0, ub = 4, type = "continuous") %>%
      add_variable(x1, lb = 1, type = "continuous")
~~~
{: .language-r}

$x_0$ har lower bound (lb) lig 0, og upper bound (ub) lig 4. Og det er en 
kontinuer variabel.

$x_1$ har lower bound 1, og er kontinuer.

så tilføjer vi de øvrige begrænsninger:



~~~
model <- model %>% 
      add_constraint(x1 <= 7) %>%
      add_constraint(x0 + 2*x1 <= 15) %>%
      add_constraint(x0 + 2*x1 >= 5) %>%
      add_constraint(3*x0 + 2*x1 >= 6)
~~~
{: .language-r}

Og endelig angiver vi hvad målet er. $x_0 + x_3 + 3$ skal minimeres:

~~~
model <- model %>% 
  set_objective(x0+x1+3, sense = "min") 
~~~
{: .language-r}

Så er vi klar til at løse modellen:
  

~~~
# solve model
solution <- model %>% 
  solve_model(highs_optimizer())
~~~
{: .language-r}

Og når den er færdig, kan vi kigge på resultatet.

Vi fandt en optimal løsning:

~~~
solution$status
~~~
{: .language-r}



~~~
[1] "optimal"
~~~
{: .output}

Værdien, minimum af vores mål, er:

~~~
solution$objective_value
~~~
{: .language-r}



~~~
[1] 5.75
~~~
{: .output}

Og selve løsningen er givet ved:

~~~
solution$solution
~~~
{: .language-r}



~~~
  x0   x1 
0.50 2.25 
~~~
{: .output}

{% include links.md %}
