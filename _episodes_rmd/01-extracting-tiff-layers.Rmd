---
title: "Extracting tiff-layers"
teaching: 0
exercises: 0
questions:
- "Hvordan ekstraherer jeg lag fra en geotiff fil?"
objectives:
- "FIXME"
keypoints:
- "FIXME"
---

```{r, include = FALSE}
source("../bin/chunk-options.R")
knitr_fig_path("01-")
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Tiff-filer kan indeholde lag. Vi er stødt på dem i en situation hvor
en studerende havde behov for at trække lagene ud af en 
GeoTIFF fil. 

Her er et eksempel på en tiff-fil med tre lag:

![Trelagstiff](../fig/stacked_tiff.tif)


Den kan vi indlæse:

```{r}
tif <- raster::stack("../fig/stacked_tiff.tif")
```
Der er tre lag:
```{r}
raster::nlayers(tif)
```
De har navne:
```{r}
names(tif)
```
Og vi kan plotte dem individuelt:

```{r}
plot(tif$layer.1)
```
```{r}
plot(tif$layer.2)
```
```{r}
plot(tif$layer.3)
```

Vi kan også gemme dem individuelt:
```{r, eval = F}
writeRaster(tif$layer.3, "filnavn.tif")
```

## Noter

Filen er grabset fra biblioteket `plainview`, mere specifikt er det et udsnit af
sattelitfotos fra Landsat 8, omkring byen Poppendorf, lidt til højre for Rostock.

{% include links.md %}